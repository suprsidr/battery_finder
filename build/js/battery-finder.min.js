!function(a,b,c,d){"use strict";function e(){var a=[];c(".battery-filters select").each(function(){var b=c(this);"All"!==b.val()&&a.push({Attributes:{$elemMatch:{ID:b.attr("class"),Name:b.val()}}})}),0===a.length&&a.push({}),f(a)}function f(a){l.products.find({$and:a},{limit:0,sort:{ProdID:1},fields:{ProdID:1,BrandName:1,Name:1,Price:1,Attributes:1,_id:-1}}).fetch(function(a){var b={length:a.length,products:[]};c.each(a,function(){b.products.push(['<div class="small-12 large-6 columns text-center"><a href="http://www.forcerc.com/'+this.ProdID+'">'+this.ProdID+'</a></div><div class="small-12 large-6 columns text-center hide-for-small"><a class="img-ico" href="'+this.ProdID+'"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABGklEQVRYhe2X223CQBBFtwSXkBIoYbRn9p8S6CSUQAehA1qgA0rAHZAO4CM2svzaWSEPkGSk+bBk+x7fvZr1hvDnS1UFOKvq1bMbTQlA7S3ehQjtxROc/9H9lQDADjg36/zpCgDsRtZ76wagqt+jYXsyQP0wgKpKjHFjuG+7yBK08yKltLJAAHXzzEC8GKD7VcBFRKochAHSBiAiFXDpWXpyAwD2E2P0q1QU2BcBqKrMzXJLKEO4u3jo6lgBjrkNJRdKEalU9dTXyQLEGDfGHW0ylCmlVT8/JoCJ4M31IJTAeuwdJoCJYZJz4h7KOfeyACLyUSpe0lkAS/CWBlhM/B/gPQC86qUABr9QXg3U7dHM/XTUaIq3869XN/O/cf3fElPRAAAAAElFTkSuQmCC"></a></div>',this.BrandName,this.Name,"$"+this.Price])}),h(b),b.length>0&&g(a)})}function g(a){i(a),c(".battery-filters select").not(o).each(function(){var a=c(this),b=a.attr("class"),d=a.val();a.html(c("<option />",{text:"All",value:"All",selected:"All"===d})),c.each(m[b],function(){var b=c("<option />",{text:this,value:this,selected:d===this});a.append(b)})})}function h(a){c(".results-count").html("<h3>Results: "+a.length+"</h3>"),c(".socket").html('<table id="results" class="display"></table>'),c("#results").dataTable({data:a.products,columns:[{title:"ProdID"},{title:"BrandName"},{title:"Name"},{title:"Price","class":"text-center"}],language:{lengthMenu:"Show _MENU_"}})}function i(a){c.each(n,function(a){m[n[a]]=[]}),c.each(a,function(b){c.each(a[b].Attributes,function(){if(n.indexOf(this.ID)>-1)if("object"==typeof this.Name){var a=this;c.each(a.Name,function(){m[a.ID].indexOf(this)<0&&m[a.ID].push(this)})}else m[this.ID].indexOf(this.Name)<0&&m[this.ID].push(this.Name)})}),c.each(n,function(a){m[n[a]][0]&&(m[n[a]][0].endsWith("mAh")||m[n[a]][0].endsWith("V"))?m[n[a]]=_.uniq(m[n[a]].sort().sort(function(a,b){var c=parseFloat(a),d=parseFloat(b);return d-c}).reverse()):m[n[a]]=_.uniq(m[n[a]].sort())})}var j=require("minimongo"),k=j.MemoryDb,l=new k;l.addCollection("products");var m={},n=["facet_Battery_Type","facet_Battery_Capacity","Spec_facet_Connector_Type","Spec_facet_Battery_Voltage"],o="";c("#batteryfinder").on("db:ready",function(a){f([{}])}).on("mouseenter",".img-ico",function(a){var b=c(this),d=b.closest("td").find("a").first().text();c(this).qtip({content:{title:'<h3 class="text-center">'+d+"</h3>",text:'<img src="http://s7d5.scene7.com/is/image/horizonhobby/'+d+'_a0?hei=150">'},style:{classes:"qtip-bootstrap"},position:{my:"left center",at:"right center",target:"mouse",viewport:c(".socket"),adjust:{x:30,mouse:!1}},show:{ready:!0},hide:{event:"mouseleave"},events:{hide:function(a,b){b.destroy()}}})}).on("click",".hlp-ico",function(a){return!1}).on("mouseenter",".hlp-ico",function(a){var b=c(this),d=b.data("text"),e=b.parent().text();c(this).qtip({content:{title:'<h3 class="text-center">'+e+"</h3>",text:d},style:{classes:"qtip-bootstrap"},position:{my:"left center",at:"right center",target:"mouse",viewport:c(".socket"),adjust:{x:30,mouse:!1}},show:{ready:!0},hide:{event:"mouseleave"},events:{hide:function(a,b){b.destroy()}}})}).on("click",".filter-reset",function(a){a.preventDefault(),o="",c(".battery-filters select").each(function(){c(this).val("All").find("option").first().attr("selected",!0)}),f([{}])}).on("click","table.dataTable.display tbody tr",function(a){a.preventDefault(),location.href=c(this).find("a").first().attr("href")}),String.prototype.endsWith=function(a){return-1!==this.indexOf(a,this.length-a.length)};var p=JSON.stringify({Categories:{$elemMatch:{ID:{$regex:encodeURIComponent("[A-Z]_BATTERIES")}}},Displayable:1,Buyable:1}),q=JSON.stringify({ProdID:1}),r=JSON.stringify({_id:0,ProdID:1,BrandID:1,BrandName:1,Name:1,Desc:1,Price:1,Categories:1,Attributes:1});c.ajax({url:"http://159.203.116.76/forcerc/search/"+p+"/0/"+q+"/"+r+"?callback=?",type:"GET",dataType:"json",success:function(a){var b={};b[n[0]]="Batteries for RC vehicles come in many different chemical types, each with their own strengths. Different chemical types do have different performance advantages, so make sure you select the proper battery for your electronics. Lithium Polymer (LiPo) and Nickel Metal Hydride (NiMH) tend to be the most common but there are many different options for you to choose from.",b[n[1]]="Capacity is a measure of how long a battery will last per-charge. The higher the capacity the longer a battery will last before needing to be recharged.  You can always safely increase the capacity on your battery to gain more runtime or flight time.",b[n[2]]="Depending on the type of vehicle you are installing a battery into you will have to make sure you have the correct connector on both the battery pack and the vehicle itself. Common battery connectors include EC3, Ultra Plugs, Tamiya and banana plugs or tubes.",b[n[3]]="As you increase the individual cells that make up a battery pack the voltage will increase at the same time. More voltage equals more speed and performance. Multiply the voltage of each cell by the individual cells that make up the battery pack to determine the total pack voltage. ";var d=c(".battery-filters"),f=c("<div />",{"class":"small-12 columns text-center"}),g=c("<ul />",{"class":"small-block-grid-2 large-block-grid-4"});d.html(c("<h3 />",{text:"Battery Filters","class":"text-center"}).append(c("<a />",{href:"#reset","class":"filter-reset paginate_button",text:"Reset"}))),c.each(n,function(a){var d=c("<li />"),f=c("<select />",{"class":n[a]}).on("change",function(b){b.preventDefault(),o="."+n[a],e()});f.append(c("<option />",{text:"All",value:"All",selected:!0})),d.append(c("<h6 />",{html:n[a].replace("Spec_","").replace("facet_","").replace("_","&nbsp;")+"&nbsp;"}).append(c("<a />",{"class":"hlp-ico",href:"#help","data-text":b[n[a]]}).append(c("<img />",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAB/UlEQVRYhbVXbXXDMAwshEIYhDKo37vz75XJymBl0DBoGGwMEgYNg45BwqD7MWVTFDu20+7ey5/4QyfJOtmbTQEAHABcSDYkryTv8l1JNjL2WrJnEs65FwAXAL0yuPgB6AFcnHPbh4yTPJUYDhEh+b7G660J8bhhB6Ai6bz3u3G+935H0gGoAHQBMtfsaHjvdwGvW5KuIHJO1kyioUlHPQ8YP+YaDhA5WhLRSATCPpR4vUDCyV6/6YhNPBnPHzZuSOi9T5MJUmr9UthXVMBNO6HTMUsFgFofuIgXa8rwZvZo1VitB3SO3CaAtVoQSwWAfvT+oOs8ZPxZBMTel7J3mIQfQBUjkIsMAtXEnhEM998ETEW0Gy2dSaVagIjYR4qAyPafJixNzoW06WDTCs2fjD9CIOa1fAOAQ5LA2hQseU3yM6b5OgUAutWHsNRrtW52CFeVYYnXGrMy1ELEWKd6ImZCJN4kpfgZMOEfNCvdjJrMzZLlFlgTbkZyGdFRSN6CSglwejsaZueFhReSEgJMXUhGaE2QGo+SyCXAn9tyr/aNdtxQKu4A3pa8W4IJezj0FqJUg1nYFIqUkzUT49lKKxo/e2DIPe/svd/bh4n3fk/yLHPsum7VM00Opo1GyTdED1wuJBp1IZEBQP3w49RCOmBNsjUV08m/KtWMLL4BdNT44JoqBUYAAAAASUVORK5CYII="})))).append(f).appendTo(g)}),g.appendTo(f),f.appendTo(d),l.products.upsert(a,function(){c("#batteryfinder").trigger("db:ready")})}})}(document,window,window.jQuery);